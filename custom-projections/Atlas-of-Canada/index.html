<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Atlas of Canada Azimuthal Equal Distance Wall map</title>
    <script type="module" src="../../dist/mapml-viewer.js"></script>
    <link rel="stylesheet" href="../../global.css">
    <script type="module">
      let customProjectionDefinition = `{
            "projection": "ATLAS_POLAR_MAP",
            "proj4string" : "+proj=aeqd +lat_0=90 +lon_0=-90 +x_0=0 +y_0=0 +ellps=sphere +units=m +no_defs +type=crs",
            "code" : "ATLAS_POLAR_MAP",
            "origin" : [-20015200,20015200],
            "resolutions" :  [33073,16536.5,8268.246,4134.123,2067.061,1033.531,516.765],
            "bounds" : [[4979939,-4846977],[-5139071,3980038]],
            "tilesize" : 256
        }`;
      let map = document.querySelector("mapml-viewer");
      let cProjection = map.defineCustomProjection(customProjectionDefinition);
      map.projection =  cProjection;
    </script>
  </head>
  <body>
    <mapml-viewer projection="ATLAS_POLAR_MAP" zoom="2" lat="83.48919" lon="-87.7687" controls>
      <layer- label="Atlas of Canada Polar Wall Map" checked>
        <map-link rel="license" title="Canadian Federal Geospatial Platform" href="https://geoappext.nrcan.gc.ca/arcgis/rest/services/FGP/NCR_RCN/MapServer/">
        <map-extent units="ATLAS_POLAR_MAP">
          <map-input type="zoom" name="z" min="0" max="6" value="6" ></map-input>
          <map-input type="location" name="x" axis="column" units="tilematrix" min="116" max="186"></map-input>
          <map-input type="location" name="y" axis="row" units="tilematrix" min="125" max="184"></map-input>
          <map-link rel="tile" tref="https://geoappext.nrcan.gc.ca/arcgis/rest/services/FGP/NCR_RCN/MapServer/tile/{z}/{y}/{x}/">
<!--          <map-link rel="tile" tref="https://geoappext.nrcan.gc.ca/arcgis/rest/services/FGP/NCR_RCN_A/MapServer/tile/{z}/{y}/{x}/">-->
        </map-extent>
      </layer->
      <layer- label="Annotation" src="annotation.mapml" checked></layer->
    </mapml-viewer>
  </body>
</html>
