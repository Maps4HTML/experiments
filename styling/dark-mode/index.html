<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="dark light">
    <title>Dark mode</title>
    <script type="module" src="../../dist/mapml.js"></script>
    <style>
      body {
        font-family: 'system-ui', sans-serif;
        max-width: 50rem;
        margin: 0 auto;
        padding: 0 1rem;
        overflow-wrap: break-word;
      }
      mapml-viewer {
        width: 100%;
        min-height: 50vh;
      }
      @media (prefers-color-scheme: dark) {
        .user-preference-message {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <p>
    This document is to experiment with dark mode
    (<a href="https://github.com/Maps4HTML/MapML.js/issues/551">#551</a>).
    </p>
    
    <p>
    The author of this document has indicated to UAs it is compatible with
    dark mode as well as light mode
    (with a preference for dark mode)
    using
    <code>&lt;meta name="color-scheme" content="dark light"&gt;</code>,
    allowing the UA to render this document with an appropriate color scheme.
    </p>
    
    <p class="user-preference-message">
      <mark>Set the preference for dark mode in your browser/OS settings or dev tools!</mark>
    </p>
    
    <mapml-viewer projection="OSMTILE" zoom="1" lat="16.929920585017086" lon="-3.5156250000000004" controls>
      <map-layer checked media="(prefers-color-scheme: dark)">
        <map-title>OpenStreetMap - pmtiles dark theme</map-title>
        <map-link rel="stylesheet" type="application/pmtiles+stylesheet" href="../../vector-tiles/pmtiles/darkTheme.js"></map-link>
        <map-link rel="license" title="© OpenStreetMap contributors CC BY-SA" href="https://www.openstreetmap.org/copyright"></map-link>
        <map-extent units="OSMTILE" checked="checked" hidden="hidden">
          <map-input name="z" type="zoom" value="18" min="0" max="18"></map-input>
          <map-input name="x" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>
          <map-input name="y" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>
          <map-link rel="tile" type="application/vnd.mapbox-vector-tile" tref="https://data.source.coop/protomaps/openstreetmap/tiles/v3.pmtiles"></map-link>
        </map-extent>
      </map-layer>
      <map-layer checked media="(prefers-color-scheme: light)">
        <map-title>OpenStreetMap - pmtiles light theme</map-title>
        <map-link rel="stylesheet" type="application/pmtiles+stylesheet" href="../../vector-tiles/pmtiles/lightTheme.js"></map-link>
        <map-link rel="license" title="© OpenStreetMap contributors CC BY-SA" href="https://www.openstreetmap.org/copyright"></map-link>
        <map-extent units="OSMTILE" checked="checked" hidden="hidden">
          <map-input name="z" type="zoom" value="18" min="0" max="18"></map-input>
          <map-input name="x" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>
          <map-input name="y" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>
          <map-link rel="tile" type="application/vnd.mapbox-vector-tile" tref="https://data.source.coop/protomaps/openstreetmap/tiles/v3.pmtiles"></map-link>
        </map-extent>
      </map-layer>
    </mapml-viewer>
    
    <p><b>References</b></p>
    <ul>
      <li>
        Use case: <a href="https://maps4html.org/HTML-Map-Element-UseCases-Requirements/#use-case-color-scheme">Customize the color scheme (light/dark or high contrast)</a>
      </li>
      <li>
        HTML <code>&lt;meta name="color-scheme"&gt;</code>
        <ul>
          <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#meta-color-scheme">https://html.spec.whatwg.org/multipage/semantics.html#meta-color-scheme</a></li>
          <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta/name#:~:text=color-scheme">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta/name#:~:text=color-scheme</a></li>
        </ul>
      </li>
      <li>
        CSS <code>color-scheme</code> property
        <ul>
          <li><a href="https://drafts.csswg.org/css-color-adjust/#color-scheme-prop">https://drafts.csswg.org/css-color-adjust/#color-scheme-prop</a></li>
          <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color-scheme">https://developer.mozilla.org/en-US/docs/Web/CSS/color-scheme</a></li>
        </ul>
      </li>
      <li>CSS <code>prefers-color-scheme</code> media feature
        <ul>
          <li><a href="https://drafts.csswg.org/mediaqueries-5/#prefers-color-scheme">https://drafts.csswg.org/mediaqueries-5/#prefers-color-scheme</a></li>
          <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme">https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme</a></li>
        </ul>
      </li>
      <li>Articles
        <ul>
          <li><a href="https://web.dev/color-scheme/">https://web.dev/color-scheme/</a></li>
          <li><a href="https://web.dev/prefers-color-scheme/">https://web.dev/prefers-color-scheme/</a></li>
        </ul>
      </li>
    </ul>
  </body>
</html>
